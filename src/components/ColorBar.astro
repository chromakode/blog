---
export interface Props {
  reversed?: boolean
}

const { reversed } = Astro.props
---

<div class:list={['color-bars', { reversed: reversed }]}></div>

<style lang="less">
  .color-bars {
    display: flex;
    width: 100%;
    height: 1.5vh;

    &.reversed {
      transform: scaleX(-1);
    }

    :global(.bar) {
      flex: 1;
      height: 100%;
    }
  }
</style>

<script>
  const base = Math.round(Math.random() * 360)
  const mul = 10 + Math.round(Math.random() * 30)

  for (const el of document.getElementsByClassName('color-bars')) {
    for (var i = 0; i < 6; i++) {
      var bar = document.createElement('div')
      bar.className = 'bar'
      bar.style.backgroundColor =
        'hsl(' + ((base + i * mul) % 360) + ', 70%, 60%)'
      el.appendChild(bar)
    }
  }
</script>
